---
tags:
  - C
  - CyberSecurity
  - Optimization
---


Язык программирования С широко используется в разработке программного обеспечения, включая операционные системы, встроенные системы и высокопроизводительные приложения. Однако его популярность также связана с многочисленными уязвимостями, которые могут быть использованы злоумышленниками. В этой статье мы рассмотрим основные проблемы безопасности, связанные с языком С, а также методы их предотвращения.

### Основные уязвимости языка С

#### Ошибки переполнения буфера

Переполнение буфера является одной из самых известных уязвимостей в языке С. Оно возникает, когда программа записывает данные за пределами выделенной памяти для буфера. Это может привести к перезаписи критически важных данных, включая адреса возврата, что позволяет злоумышленникам выполнять произвольный код.

Пример кода с переполнением буфера:

```c
#include <stdio.h>
#include <string.h>

void vulnerable_function() {
    char buffer[10];
    gets(buffer); // Неправильное использование функции
}
```

Использование функции `gets()` позволяет вводить данные без ограничения длины, что приводит к переполнению буфера[2][5].

#### Указатели с нулевым значением

Дереференция нулевого указателя (null pointer dereference) происходит, когда программа пытается получить доступ к памяти по адресу нулевого указателя. Это может привести к аварийному завершению программы (segmentation fault) и является распространенной ошибкой в коде на C.

Пример:

```c
#include <stdio.h>

int main() {
    int *ptr = NULL;
    *ptr = 10; // Ошибка: попытка записи по нулевому указателю
}
```

#### Переполнение целочисленных переменных

Переполнение целочисленных переменных происходит, когда значение выходит за пределы допустимого диапазона для данного типа данных. Это может привести к непредсказуемым последствиям и уязвимостям в безопасности.

Пример:

```c
#include <stdio.h>
#include <limits.h>

int main() {
    unsigned int x = UINT_MAX;
    x++; // Переполнение
    printf("%u\n", x); // Вывод: 0
}
```

### Методы предотвращения уязвимостей

#### Использование безопасных функций

Для предотвращения переполнений буфера рекомендуется использовать функции, которые проверяют границы. Например, вместо `strcpy()` следует использовать `strncpy()`, которая ограничивает количество копируемых символов.

#### Статический анализ кода

Статический анализ кода позволяет выявлять потенциальные уязвимости еще до выполнения программы. Инструменты статического анализа могут обнаруживать ошибки, такие как использование неинициализированных переменных или выход за пределы массивов[4][5].

#### Компиляция с предупреждениями и санитайзерами

Компиляция программ с использованием флагов предупреждений (например, `-Wall` в GCC) и санитайзеров (таких как AddressSanitizer и UndefinedBehaviorSanitizer) помогает выявлять ошибки во время выполнения и предотвращать распространенные уязвимости[4].

#### Проверка входных данных

Важно всегда проверять входные данные перед их обработкой. Это включает в себя валидацию пользовательского ввода и преобразование данных в безопасное представление. Разделение кода на части, которые обрабатывают непроверенные данные и те, которые требуют предварительной проверки, также является хорошей практикой[4].

### Рекомендации по безопасному программированию

- **Следуйте стандартам безопасности**: Используйте стандарты безопасности кода, такие как CERT C Coding Standard или MISRA C.
  
- **Пишите юнит-тесты**: Юнит-тесты помогают выявлять ошибки и обеспечивают корректную работу модулей.

- **Используйте систему контроля версий**: Это позволяет отслеживать изменения в коде и быстро находить источники ошибок.

- **Обучение и осведомленность**: Регулярное обучение разработчиков вопросам безопасности поможет снизить количество уязвимостей в коде.

### Заключение

Безопасность программного обеспечения на языке С требует внимательного подхода к проектированию и написанию кода. Понимание основных уязвимостей и применение методов их предотвращения помогут разработчикам создавать более безопасные приложения. Следуя лучшим практикам программирования и используя современные инструменты анализа, можно значительно снизить риски эксплуатации уязвимостей.


[1] Язык Cи — рекордсмен по количеству уязвимостей в Open ... https://www.itweek.ru/foss/article/detail.php?ID=206289
[2] An unintimidating introduction to the dark arts of C/C++ vulnerabilities https://snyk.io/blog/unintimidating-intro-to-c-cpp-vulnerabilities/
[3] [PDF] Предотвращение уязвимостей, возникающих в результате ... https://ispranproceedings.elpub.ru/jour/article/download/1436/1255
[4] Tips on Making C Code Secure : r/C_Programming - Reddit https://www.reddit.com/r/C_Programming/comments/i2ayaz/tips_on_making_c_code_secure/
[5] [PDF] How to Write Secure Code in C - Perforce Software https://www.perforce.com/sites/default/files/pdfs/how-to-write-secure-code-c.pdf
[6] новые атаки и инструменты кибершпионов PhantomCore https://www.facct.ru/blog/phantomcore-evolution/
[7] C is 'least secure' programming language, study claims - PortSwigger https://portswigger.net/daily-swig/c-is-least-secure-programming-language-study-claims
[8] Какие языки программирования наименее безопасны? https://web-control.ru/novosti/news_post/kakiye-yazyki-programmirovaniya-naimeneye-bezopasny
[9] Оценка типичных проблем с безопасностью для различных ... https://www.opennet.ru/opennews/art.shtml?num=50415
